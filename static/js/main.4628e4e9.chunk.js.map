{"version":3,"sources":["js/helpers/Globals.js","js/functions/PlayIcon.js","js/functions/ShuffleArray.js","js/classes/AnimatedTriangle.js","audio/triangles-no-6.ogg","audio/triangles-no-6.mid","js/P5SketchWithAudio.js","js/App.js","index.js"],"names":["window","p5","PlayIcon","id","className","xmlns","height","viewBox","width","d","fill","ShuffleArray","array","temporaryValue","randomIndex","currentIndex","length","Math","floor","random","AnimatedTriangle","point1","point2","point3","colour1","colour2","lifetime","this","p","canDraw","centerX","x","centerY","y","origin","createVector","lerpAmount","fillColour","lerpColor","currentFrame","setLifeTime","frameRate","getFrameRate","totalFrames","scale","min","dist1","Vector","sub","mult","dist2","dist3","add","dist4","dist5","dist6","dist7","dist8","dist9","point4","point5","point6","point7","point8","point9","push","noStroke","setAlpha","triangle","stroke","pop","P5SketchWithAudio","sketchRef","useRef","Sketch","canvas","canvasWidth","innerWidth","canvasHeight","innerHeight","audioLoaded","player","PPQ","loadMidi","Midi","fromUrl","midi","then","result","noteSet1","tracks","notes","noteSet2","scheduleCueSet","bgColour","background","document","getElementById","classList","remove","preload","song","loadSound","audio","onended","logCredits","noteSet","callbackName","poly","lastTicks","currentCue","i","note","ticks","time","addCue","triangles","nextTriangles","setup","randomColor","require","createCanvas","colorMode","HSL","generateNextTriangles","draw","isPlaying","gatNotesPerSynthNote","trisPerNote","trisPerLastNote","executeCueSet1","executeCueSet2","duration","tris","filter","element","numOfLoops","pts","divisor","n","triangulation","Delaunay","triangulate","map","pt","randomColor1","luminosity","format","randomColor2","complementaryColourHue","color","mousePressed","pause","parseInt","currentTime","buffer","reset","addClass","play","creditsLogged","console","log","stop","updateCanvasDimensions","resizeCanvas","attachEvent","addEventListener","useEffect","current","ref","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.4628e4e9.chunk.js","sourcesContent":["// p5.sound doesn't work correctly when p5 is not available in the global name space so we add it here\n// https://github.com/processing/p5.js-sound/issues/512\nimport * as p5 from \"p5\";\nwindow.p5 = p5;\n","export default function PlayIcon() {\n    return (\n        <svg id=\"play-icon\" className='fade-out' xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n            <path d=\"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" />\n        </svg>\n    )\n}\n","function ShuffleArray(array) {\n  var currentIndex = array.length,\n    temporaryValue,\n    randomIndex;\n\n  // While there remain elements to shuffle...\n  while (currentIndex !== 0) {\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n}\n\nexport default ShuffleArray;\n","export default class AnimatedTriangle {\n    constructor(p5, point1, point2, point3, colour1, colour2, lifetime = 1000) {\n        this.p = p5;\n        this.canDraw = false;\n        this.point1 = point1;\n        this.point2 = point2;\n        this.point3 = point3;\n        this.centerX = (this.point1.x + this.point2.x + this.point3.x) / 3;\n        this.centerY = (this.point1.y + this.point2.y + this.point3.y) / 3;\n        this.origin = this.p.createVector(this.centerX, this.centerY);\n        this.lerpAmount = this.p.random(0.01, 0.99);\n        this.colour1 = colour1;\n        this.colour2 = colour2;\n        this.fillColour = this.p.lerpColor( \n            this.colour1, \n            this.colour2, \n            this.lerpAmount\n        ); \n        this.currentFrame = 0;\n        this.setLifeTime(lifetime);\n    }\n\n    setLifeTime(lifetime) {\n        const frameRate = this.p.getFrameRate() ? this.p.getFrameRate() : 60;\n        this.totalFrames = frameRate / 1000 * lifetime;\n    }\n\n    draw() {\n        if(this.canDraw) {\n            let point1 = this.point1;\n            let point2 = this.point2;\n            let point3 = this.point3;\n\n            if(this.currentFrame < this.totalFrames){\n                const scale = this.p.min(1, this.currentFrame / this.totalFrames),\n                    dist1 = window.p5.Vector.sub(this.point1, this.origin).mult(scale),\n                    dist2 = window.p5.Vector.sub(this.point2, this.origin).mult(scale),\n                    dist3 = window.p5.Vector.sub(this.point3, this.origin).mult(scale);\n                point1 = window.p5.Vector.add(this.origin, dist1);\n                point2 = window.p5.Vector.add(this.origin, dist2);\n                point3 = window.p5.Vector.add(this.origin, dist3);\n            }\n\n            let dist4 = window.p5.Vector.sub(point1, this.origin).mult(0.6666);\n            let dist5 = window.p5.Vector.sub(point2, this.origin).mult(0.6666);\n            let dist6 = window.p5.Vector.sub(point3, this.origin).mult(0.6666);\n            let dist7 = window.p5.Vector.sub(point1, this.origin).mult(0.3333);\n            let dist8 = window.p5.Vector.sub(point2, this.origin).mult(0.3333);\n            let dist9 = window.p5.Vector.sub(point3, this.origin).mult(0.3333);\n            let point4 = window.p5.Vector.add(this.origin, dist4);\n            let point5 = window.p5.Vector.add(this.origin, dist5);\n            let point6 = window.p5.Vector.add(this.origin, dist6);\n            let point7 = window.p5.Vector.add(this.origin, dist7);\n            let point8 = window.p5.Vector.add(this.origin, dist8);\n            let point9 = window.p5.Vector.add(this.origin, dist9);\n\n            this.p.push();\n            this.p.noStroke();\n            this.fillColour.setAlpha(0.06);\n            this.p.fill(this.fillColour);\n            this.p.triangle( \n                point1.x, \n                point1.y, \n                point2.x, \n                point2.y, \n                point3.x, \n                point3.y \n            );\n            this.fillColour.setAlpha(0.12);\n            this.p.fill(this.fillColour);\n            this.p.triangle( \n                point4.x, \n                point4.y, \n                point5.x, \n                point5.y, \n                point6.x, \n                point6.y \n            );\n            this.fillColour.setAlpha(0.24);\n            this.p.fill(this.fillColour);\n            this.p.stroke(255);\n            this.p.triangle( \n                point7.x, \n                point7.y, \n                point8.x, \n                point8.y, \n                point9.x, \n                point9.y \n            );\n            this.p.pop();\n            this.currentFrame++;\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/triangles-no-6.3cd4ec8e.ogg\";","export default __webpack_public_path__ + \"static/media/triangles-no-6.02d5f508.mid\";","import React, { useRef, useEffect } from \"react\";\nimport \"./helpers/Globals\";\nimport \"p5/lib/addons/p5.sound\";\nimport * as p5 from \"p5\";\nimport Delaunay from \"delaunay-fast\";\nimport { Midi } from '@tonejs/midi'\nimport PlayIcon from './functions/PlayIcon.js';\nimport ShuffleArray from './functions/ShuffleArray.js';\nimport AnimatedTriangle from './classes/AnimatedTriangle.js';\n\nimport audio from \"../audio/triangles-no-6.ogg\";\nimport midi from \"../audio/triangles-no-6.mid\";\n\nconst P5SketchWithAudio = () => {\n    const sketchRef = useRef();\n\n    const Sketch = p => {\n\n        p.canvas = null;\n\n    p.canvasWidth = window.innerWidth;\n\n        p.canvasHeight = window.innerHeight;\n\n        p.audioLoaded = false;\n\n        p.player = null;\n\n        p.PPQ = 3840 * 4;\n\n        p.loadMidi = () => {\n            Midi.fromUrl(midi).then(\n                function(result) {\n                    const noteSet1 = result.tracks[1].notes; // Synth 1 - Filter Wheeler\n                    const noteSet2 = result.tracks[2].notes; // Sampler 1 - HEAVYGTR\n                    p.scheduleCueSet(noteSet1, 'executeCueSet1');\n                    p.scheduleCueSet(noteSet2, 'executeCueSet2');\n                    p.audioLoaded = true;\n                    p.bgColour = Math.random() < 0.5 ? 0 : 255;\n                    p.background(p.bgColour);\n                    document.getElementById(\"loader\").classList.add(\"loading--complete\");\n                    document.getElementById(\"play-icon\").classList.remove(\"fade-out\");\n                    if(p.bgColour){\n                        //document.getElementById(\"play-icon\").style.fill = 'black';\n                    }\n                }\n            );\n            \n        }\n\n        p.preload = () => {\n            p.song = p.loadSound(audio, p.loadMidi);\n            p.song.onended(p.logCredits);\n        }\n\n        p.scheduleCueSet = (noteSet, callbackName, poly = false)  => {\n            let lastTicks = -1,\n                currentCue = 1;\n            for (let i = 0; i < noteSet.length; i++) {\n                const note = noteSet[i],\n                    { ticks, time } = note;\n                if(ticks !== lastTicks || poly){\n                    note.currentCue = currentCue;\n                    p.song.addCue(time, p[callbackName], note);\n                    lastTicks = ticks;\n                    currentCue++;\n                }\n            }\n        } \n\n        p.bgColour = 0;\n        p.triangles = [];\n        p.nextTriangles = [];\n\n        p.setup = () => {\n            p.randomColor = require('randomcolor');\n            p.canvas = p.createCanvas(p.canvasWidth, p.canvasHeight);\n            p.colorMode(p.HSL);\n            p.generateNextTriangles();\n        }\n\n        p.draw = () => {\n            if(p.audioLoaded && p.song.isPlaying()){\n                for (let i = 0; i < p.triangles.length; i++) {\n                    const triangle = p.triangles[i];\n                    triangle.draw();\n                }\n            }\n        }\n\n        p.gatNotesPerSynthNote = 0;\n        p.trisPerNote = 0;\n        p.trisPerLastNote = 0;\n\n        p.executeCueSet1 = (note) => {\n            const { currentCue } = note;\n            p.background(p.bgColour);\n            p.gatNotesPerSynthNote = \n                currentCue % 5 === 0 ? 7 :\n                currentCue % 5 === 4 ? 8 :\n                15;\n            p.triangles = p.nextTriangles;\n            p.trisPerNote = Math.floor(p.triangles.length / p.gatNotesPerSynthNote);\n            p.trisPerLastNote = p.trisPerNote + (p.triangles.length - (p.gatNotesPerSynthNote * p.trisPerNote));\n            \n            p.generateNextTriangles();\n        }\n\n        p.executeCueSet2 = (note) => {\n            const { duration } = note;\n            const tris = p.triangles.filter((element) => !element.canDraw),\n                numOfLoops = tris.length === p.trisPerLastNote ? p.trisPerLastNote : p.trisPerNote; \n            for (let i = 0; i < numOfLoops; i++) {\n                const triangle = tris[i];\n                triangle.canDraw = true; \n                triangle.setLifeTime(duration * 1000); \n            }\n        }\n\n\n        p.generateNextTriangles = () => {\n            p.nextTriangles = [];\n            const pts = [];\n            // push canvas rect points\n            pts.push( p.createVector( 0, 0 ) );\n            pts.push( p.createVector( p.width, 0 ) );\n            pts.push( p.createVector( p.width, p.height ) );\n            pts.push( p.createVector( 0, p.height ) );\n                \n            // add a certain number of pts proportionally to the size of the canvas\n            // ~~ truncates a floating point number and keeps the integer part, like floor()\n            const divisor = p.random([128, 256, 384]);\n            const n = ~~ ( p.width / divisor * p.height / divisor );\n            for( var i = 0; i < n; i ++ ){\n                pts.push( p.createVector( ~~ p.random( p.width ), ~~ p.random( p.height ) ) );\n            }\n                \n            // Now, let's use Delaunay.js\n            // Delaunay.triangulate expect a list of vertices (which should be a bunch of two-element arrays, representing 2D Euclidean points)\n            // and it will return you a giant array, arranged in triplets, representing triangles by indices into the passed array\n            // Array.map function let us create an Array of 2 elements arrays [ [x,y],[x,y],..] from our array of PVector [ PVector(x,y), PVector(x,y), ... ]\n            const triangulation = Delaunay.triangulate( pts.map( function( pt ){\n                return [ pt.x, pt.y ];\n            } ) );\n                \n            const randomColor1 = p.randomColor({luminosity: 'bright', format: 'hslArray'}),\n                randomColor2 = p.randomColor({luminosity: 'bright', format: 'hslArray'}), \n                complementaryColourHue = randomColor1[0] + 180 > 360 ? randomColor1[0] - 180 : randomColor1[0] + 180, \n                colour1 = p.color(randomColor1[0], randomColor1[1], randomColor1[2]),\n                colour2 = Math.random() < 0.5 ?\n                     p.color(complementaryColourHue, randomColor1[1], randomColor1[2]) :\n                     p.color(randomColor2[0], randomColor2[1], randomColor2[2]);\n            // create Triangles object using indices returned by Delaunay.triangulate\n            for( var i = 0; i < triangulation.length; i += 3 ){\n                p.nextTriangles.push( \n                    new AnimatedTriangle(\n                        p,\n                        pts[ triangulation[ i ] ],\n                        pts[ triangulation[ i + 1 ] ],\n                        pts[ triangulation[ i + 2 ] ], \n                        colour1,\n                        colour2\n                    )\n                );\n            }\n\n            p.nextTriangles = ShuffleArray(p.nextTriangles);\n        }\n\n        p.mousePressed = () => {\n            if(p.audioLoaded){\n                if (p.song.isPlaying()) {\n                    p.song.pause();\n                } else {\n                    if (parseInt(p.song.currentTime()) >= parseInt(p.song.buffer.duration)) {\n                        p.reset();\n                        p.generateNextTriangles();\n                    }\n                    document.getElementById(\"play-icon\").classList.add(\"fade-out\");\n                    p.canvas.addClass(\"fade-in\");\n                    p.song.play();\n                }\n            }\n        }\n\n        p.creditsLogged = false;\n\n        p.logCredits = () => {\n            if (\n                !p.creditsLogged &&\n                parseInt(p.song.currentTime()) >= parseInt(p.song.buffer.duration)\n            ) {\n                p.creditsLogged = true;\n                    console.log(\n                    \"Music By: http://labcat.nz/\",\n                    \"\\n\",\n                    \"Animation By: https://github.com/LABCAT/\",\n                    \"\\n\",\n                    \"Code Inspiration: https://openprocessing.org/sketch/385808\"\n                );\n                p.song.stop();\n            }\n        };\n\n        p.reset = () => {\n\n        }\n\n        p.updateCanvasDimensions = () => {\n            p.canvasWidth = window.innerWidth;\n            p.canvasHeight = window.innerHeight;\n            p.canvas = p.resizeCanvas(p.canvasWidth, p.canvasHeight);\n        }\n\n        if (window.attachEvent) {\n            window.attachEvent(\n                'onresize',\n                function () {\n                    p.updateCanvasDimensions();\n                }\n            );\n        }\n        else if (window.addEventListener) {\n            window.addEventListener(\n                'resize',\n                function () {\n                    p.updateCanvasDimensions();\n                },\n                true\n            );\n        }\n        else {\n            //The browser does not support Javascript event binding\n        }\n    };\n\n    useEffect(() => {\n        new p5(Sketch, sketchRef.current);\n    }, []);\n\n    return (\n        <div ref={sketchRef}>\n            <PlayIcon />\n        </div>\n    );\n};\n\nexport default P5SketchWithAudio;\n","import P5SketchWithAudio from './P5SketchWithAudio'\n\nfunction App() {\n  return (\n    <P5SketchWithAudio/>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/build.css';\nimport App from './js/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}